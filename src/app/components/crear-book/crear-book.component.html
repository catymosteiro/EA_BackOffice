<div class="container mt-5">
    <div class="class row">
        <div class="col-lg-6 offset-lg-3">
            <div class="card">
                <div class="card-body text-center">
                    <span class="title"> {{ title | uppercase }} </span>
                    <form class="mt-3" [formGroup]="bookForm" (ngSubmit)="addBook()">
                        <div class="mb-3">
                            <input type="text" formControlName="title" class="form-control form-control-lg"
                                placeholder="title">
                            <div class="text-danger"
                                *ngIf="bookForm.get('title')?.hasError('required') && bookForm.get('title')?.touched">
                                <span>The title is required</span>
                            </div>
                        </div>
                        <div class="mb-3">
                            <input type="text" formControlName="ISBN" class="form-control form-control-lg"
                                placeholder="ISBN">
                            <div class="text-danger"
                                *ngIf="bookForm.get('ISBN')?.hasError('required') && bookForm.get('ISBN')?.touched">
                                <span>The ISBN is required</span>
                            </div>
                        </div>
                        <div class="mb-3">
                            <input type="text" formControlName="photoURL" class="form-control form-control-lg"
                                placeholder="photoURL">
                            <div class="text-danger"
                                *ngIf="bookForm.get('photoURL')?.hasError('required') && bookForm.get('photoURL')?.touched">
                                <span>The photoURL is required</span>
                            </div>
                        </div>
                        <div class="mb-3">
                            <input type="text" formControlName="description" class="form-control form-control-lg"
                                placeholder="description">
                            <div class="text-danger"
                                *ngIf="bookForm.get('description')?.hasError('required') && bookForm.get('description')?.touched">
                                <span>The description is required</span>
                            </div>
                        </div>
                        <div class="mb-3">
                            <mat-form-field appearance="fill">
                                <mat-label>Published Date</mat-label>
                                <input matInput [matDatepicker]="picker" formControlName="publishedDate" />
                                <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                                <mat-datepicker #picker></mat-datepicker>
                            </mat-form-field>
                        </div>
                        <div class="mb-3">
                            <input type="text" formControlName="editorial" class="form-control form-control-lg"
                                placeholder="editorial">
                            <div class="text-danger"
                                *ngIf="bookForm.get('editorial')?.hasError('required') && bookForm.get('editorial')?.touched">
                                <span>The editorial is required</span>
                            </div>
                        </div>
                        <div class="mb-3">
                            <input type="text" formControlName="rate" class="form-control form-control-lg"
                                placeholder="rate">
                            <div class="text-danger"
                                *ngIf="bookForm.get('rate')?.hasError('required') && bookForm.get('rate')?.touched">
                                <span>The rate is required</span>
                            </div>
                        </div>
                        <div class="mb-3">
                            <mat-form-field appearance="fill">
                                <mat-label>Categories</mat-label>
                                <mat-select (openedChange)="changeSelectedCategories($event)" [formControl]="categories"
                                    multiple>
                                    <mat-option *ngFor="let category of categoriesList" [value]="category">{{ category
                                        }}</mat-option>
                                </mat-select>
                            </mat-form-field>
                            <mat-error *ngIf="categories.hasError('required')">Choose some categories</mat-error>
                        </div>
                        <div class="mb-3">
                            <button routerLink="/listar-books"
                                class="btn btn-secondary btn-lg float-start">TORNAR</button>
                            <button type="submit" [disabled]="bookForm.invalid"
                                class="btn btn-success btn-lg float-end">ACCEPTAR</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>